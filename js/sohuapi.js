var getOSAndBrowser = function () { var os = navigator.platform, userAgent = navigator.userAgent, info = '', tempArray = ''; os.indexOf('Win') > -1 ? userAgent.indexOf('Windows NT 5.0') > -1 ? info += 'Win2000' : userAgent.indexOf('Windows NT 5.1') > -1 ? info += 'WinXP' : userAgent.indexOf('Windows NT 5.2') > -1 ? info += 'Win2003' : userAgent.indexOf('Windows NT 6.0') > -1 ? info += 'WindowsVista' : userAgent.indexOf('Windows NT 6.1') > -1 || userAgent.indexOf('Windows 7') > -1 ? info += 'Win7' : userAgent.indexOf('Windows NT 6.2') > -1 || userAgent.indexOf('Windows 8') > -1 ? info += 'Win8' : userAgent.indexOf('Windows NT 6.3') > -1 || userAgent.indexOf('Windows 8.1') > -1 ? info += 'Win8.1' : userAgent.indexOf('Windows NT 10.0') > -1 || userAgent.indexOf('Windows 10') > -1 ? info += 'Win10' : info += 'Other' : os.indexOf('Mac') > -1 ? info += 'Mac' : os.indexOf('X11') > -1 ? info += 'Unix' : os.indexOf('Linux') > -1 ? info += 'Linux' : info += 'Other', info += '/'; var isOpera = userAgent.indexOf('Opera') > -1, isIE = userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1 && !isOpera, isEdge = userAgent.toLowerCase().indexOf('edge') > -1 && !isIE, isIE11 = userAgent.toLowerCase().indexOf('trident') > -1 && userAgent.indexOf('rv') > -1; if (/[Ff]irefox(\/\d+\.\d+)/.test(userAgent)) info += (tempArray = /([Ff]irefox)\/(\d+\.\d+)/.exec(userAgent))[1] + tempArray[2]; else if (isIE) { var version = '', reIE; new RegExp('MSIE (\\d+\\.\\d+);').test(userAgent); var fIEVersion = parseFloat(RegExp.$1); info += version = 7 == fIEVersion ? 'IE7' : 8 == fIEVersion ? 'IE8' : 9 == fIEVersion ? 'IE9' : 10 == fIEVersion ? 'IE10' : '0' } else isEdge ? info += 'Edge' : isIE11 ? info += 'IE11' : /[Cc]hrome\/\d+/.test(userAgent) ? info += (tempArray = /([Cc]hrome)\/(\d+)/.exec(userAgent))[1] + tempArray[2] : /[Vv]ersion\/\d+\.\d+\.\d+(\.\d)* *[Ss]afari/.test(userAgent) ? info += (tempArray = /[Vv]ersion\/(\d+\.\d+\.\d+)(\.\d)* *([Ss]afari)/.exec(userAgent))[3] + tempArray[1] : /[Oo]pera.+[Vv]ersion\/\d+\.\d+/.test(userAgent) ? info += (tempArray = /([Oo]pera).+[Vv]ersion\/(\d+)\.\d+/.exec(userAgent))[1] + tempArray[2] : info += 'unknown'; return info }; document.write(returnCitySN.cip + ' ' + getOSAndBrowser());
